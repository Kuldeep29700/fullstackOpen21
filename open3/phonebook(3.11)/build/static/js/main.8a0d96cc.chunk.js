(this.webpackJsonpphonebook311=this.webpackJsonpphonebook311||[]).push([[0],{40:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var c=n(1),o=n.n(c),a=n(16),r=n.n(a),u=n(3),s=n(0),l=function(e){var t=e.filter,n=e.eventfilter;return Object(s.jsxs)(s.Fragment,{children:["Search here..",Object(s.jsx)("input",{value:t,onChange:n})]})},i=n(4),d=n.n(i),j="/api/contact",f={getAll:function(){return d.a.get(j).then((function(e){return e.data}))},create:function(e){return d.a.post(j,e).then((function(e){return e.data}))},update:function(e,t){return d.a.put("".concat(j,"/").concat(e),t).then((function(e){return e.data}))},remove:function(e,t){return d.a.delete("".concat(j,"/").concat(e),t).then((function(e){return e.data}))}},b=function(e){var t=e.personToshow,n=e.deleteHandler;return Object(s.jsx)("div",{children:t.map((function(e){return Object(s.jsxs)("li",{className:"persons",children:["".concat(e.name," :"),"    ",e.number,Object(s.jsx)("button",{className:"deleteBtn",type:"submit",onClick:function(){return n(e.id,e.name)},children:"delete"})]},e.id)}))})},h=(n(40),function(){var e=Object(c.useState)([]),t=Object(u.a)(e,2),n=t[0],o=t[1],a=Object(c.useState)(""),r=Object(u.a)(a,2),i=r[0],d=r[1],j=Object(c.useState)(""),h=Object(u.a)(j,2),m=h[0],O=h[1],p=Object(c.useState)(""),g=Object(u.a)(p,2),v=g[0],x=g[1],w=Object(c.useState)(null),S=Object(u.a)(w,2),C=S[0],k=S[1],y=Object(c.useState)(null),T=Object(u.a)(y,2),L=T[0],M=T[1];Object(c.useEffect)((function(){f.getAll().then((function(e){console.log("successfull"),o(e)}))}),[]);var N=function(e){var t=e.errorMsg;return null===t?null:Object(s.jsx)("div",{className:"error",children:t})},B=function(e){var t=e.successMSg;return null===t?null:Object(s.jsx)("div",{className:"message",children:t})},D=v.length>=0?n.filter((function(e){return e.name.toLowerCase().includes(v.toLowerCase())})):n;return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("h1",{children:"Phonebook"}),Object(s.jsx)(N,{errorMsg:C}),Object(s.jsx)(B,{successMSg:L}),Object(s.jsx)(l,{filter:v,eventfilter:function(e){x(e.target.value)}}),Object(s.jsx)(b,{personToshow:D,deleteHandler:function(e,t){if(window.confirm("Delete ".concat(t,"?"))){console.log("Delete the person of id ".concat(e));var c=n.filter((function(t){return t.id!==e}));console.log(c),f.remove(e).then((function(e){o(c),M("".concat(t," deleted")),setTimeout((function(){M(null)}),5e3)})).catch((function(e){o(c),k("the note '".concat(c.name,"' was already deleted from server")),setTimeout((function(){k(null)}),5e3)}))}}}),Object(s.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t={name:i,number:m,id:n.length+1},c=n.some((function(e){return e.name.toLowerCase()===t.name.toLowerCase()}));console.log(n.some((function(e){return e.name.toLowerCase()}))),console.log(t.name.toLowerCase()),console.log(c),c?(k("".concat(i," is already added to phonebook")),setTimeout((function(){k(null)}),3e3)):f.create(t).then((function(e){o(n.concat(e)),console.log(o),M("".concat(i," is added to the phoonebook")),setTimeout((function(){M(null)}),3e3)})).catch((function(e){k("".concat(i," is already added to phonebook change name and try again!")),setTimeout((function(){k(null)}),5e3)})),d(""),O("")},children:[Object(s.jsx)("input",{placeholder:"new contact name..",value:i,type:"text",onChange:function(e){return d(e.target.value)}}),Object(s.jsx)("br",{}),Object(s.jsx)("input",{placeholder:"new contact number..",value:m,type:"number",onChange:function(e){return O(e.target.value)}}),Object(s.jsx)("button",{className:"addBtn",type:"submit",children:"add"})]})]})});r.a.render(Object(s.jsx)(o.a.StrictMode,{children:Object(s.jsx)(h,{})}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.8a0d96cc.chunk.js.map