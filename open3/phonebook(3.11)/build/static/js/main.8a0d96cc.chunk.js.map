{"version":3,"sources":["Filter.jsx","Service.jsx","Person.jsx","App.js","index.js"],"names":["Filter","filter","eventfilter","value","onChange","url","personService","getAll","axios","get","then","response","data","create","addObj","post","update","id","put","remove","delete","Person","personToshow","deleteHandler","map","person","className","name","number","type","onClick","App","useState","setPerson","newName","setNewname","newNum","setNewnum","setFilter","error","setError","success","setSuccess","useEffect","initialPerson","console","log","Error","errorMsg","Success","successMSg","length","toLowerCase","includes","event","target","window","confirm","note","setTimeout","catch","onSubmit","preventDefault","found","some","el","concat","placeholder","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8a0d96cc.chunk.js","sourcesContent":["import React from \"react\";\r\nconst Filter=({filter,eventfilter})=>{\r\n    return(\r\n        <>\r\n        Search here..<input value={filter} onChange={eventfilter}/>\r\n       \r\n        \r\n        </>\r\n    )\r\n}\r\nexport default Filter","import axios from \"axios\";\r\nconst url = \"/api/contact\";\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(url);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst create = (addObj) => {\r\n  const request = axios.post(url, addObj);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst update = (id, addObj) => {\r\n  const request = axios.put(`${url}/${id}`, addObj);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst remove = (id, addObj) => {\r\n  const request = axios.delete(`${url}/${id}`, addObj);\r\n  return request.then((response) => response.data);\r\n};\r\nconst personService = { getAll, create, update, remove };\r\nexport default personService;","import React from \"react\"\r\nconst Person = ({personToshow,deleteHandler})=>{\r\n    return (\r\n    <div>\r\n      {personToshow.map((person)=>\r\n     <li className=\"persons\" key={person.id}>\r\n     {`${person.name} :`}    {person.number}\r\n     <button className=\"deleteBtn\" type=\"submit\" onClick={() => deleteHandler(person.id, person.name)}>\r\n delete\r\n</button>\r\n </li>\r\n      )}\r\n    </div>\r\n   )\r\n\r\n}\r\nexport default Person","import React,{useState,useEffect} from \"react\";\n\nimport Filter from \"./Filter\"\nimport personService from \"./Service\";\nimport Person from \"./Person\";\nimport \"./index.css\"\n\nconst App=()=>{\n  const [person,setPerson]= useState([])\n  \n  const [newName,setNewname]=useState(\"\")\n  const [newNum,setNewnum]=useState(\"\")\n  const [filter, setFilter]= useState('')\n  const [error,setError] = useState(null)\n  const [success,setSuccess]=useState(null)\n  \n\n  useEffect(() => {\n    personService.getAll().then((initialPerson) => {\n      console.log(\"successfull\");\n\n      setPerson(initialPerson);\n    });\n  }, []);\n\n  \n  const submitEvent=(event)=>{\n    event.preventDefault()\n    const addObj={\n      name:newName,\n      number:newNum,\n      id:person.length+1\n    }\n    \n\n    const found= person.some(el=>el.name.toLowerCase() === addObj.name.toLowerCase())\n      console.log(person.some(person=>person.name.toLowerCase()))\n      console.log(addObj.name.toLowerCase())\n      console.log(found)\n    if(found){\n      setError(\n        `${newName} is already added to phonebook`\n        \n      )\n      setTimeout(()=>{\n        setError(null)\n      },3000); \n    }\n   \n    else{\n      personService.create(addObj)\n      .then((response)=> { \n        setPerson(person.concat(response))\n       \n        console.log(setPerson)\n        setSuccess(`${newName} is added to the phoonebook`)\n        setTimeout(()=>{\n          setSuccess(null)\n        },3000)\n      })\n      .catch((error)=>{\n        setError(\n          `${newName} is already added to phonebook change name and try again!`\n          \n        )\n          setTimeout(() => {\n            setError(null);\n          }, 5000)\n      })\n    }\n    \n   \n    \n \n    setNewname(\"\")\n    setNewnum(\"\")\n    \n    \n  }\n  const deleteHandler=(id,name)=>{\n   if( window.confirm(`Delete ${name}?`)){\n     console.log(`Delete the person of id ${id}`)\n     const note=(person.filter((person)=>person.id !==id))\n     console.log(note)\n   \n   personService\n   .remove(id)\n   .then((response)=>{\n    setPerson(note)\n    setSuccess(`${name} deleted`);\n          setTimeout(() => {\n            setSuccess(null);\n          }, 5000);\n\n   }).catch((error) => {\n    setPerson(note);\n    setError(\n      `the note '${note.name}' was already deleted from server`\n    );\n    setTimeout(() => {\n      setError(null);\n    }, 5000);\n  })\n  }\n}\n  const Error=({errorMsg})=>{\n    if(errorMsg===null){\n      return null\n    }\n    return <div className=\"error\">{errorMsg}</div>\n  }\n  const Success =({successMSg})=>{\n    if(successMSg=== null){\n      return null\n    }\n    return <div className=\"message\">{successMSg}</div>\n  }\n  const eventfilter = (event) => {\n    setFilter(event.target.value);\n  };\n  const personToshow = filter.length>=0 ?  person.filter(person=>person.name.toLowerCase().includes(filter.toLowerCase())):person;\n  return(\n    <>\n    <h1>Phonebook</h1>\n    <Error errorMsg={error}/>\n    <Success successMSg={success}/>\n    <Filter filter={filter}  eventfilter={eventfilter} />\n    <Person personToshow={personToshow} deleteHandler={deleteHandler} />\n    <form onSubmit={submitEvent}>\n      <input placeholder =\"new contact name..\" value={newName} type=\"text\" onChange={(event)=>setNewname(event.target.value)}/><br/>\n      <input placeholder =\"new contact number..\" value={newNum} type=\"number\" onChange={(event)=>setNewnum(event.target.value)}/>\n      <button className=\"addBtn\" type=\"submit\">add</button>\n    </form>\n    </>\n  )\n}\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}