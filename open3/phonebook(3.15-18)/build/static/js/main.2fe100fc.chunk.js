(this.webpackJsonpphonebook311=this.webpackJsonpphonebook311||[]).push([[0],{41:function(e,n,t){},42:function(e,n,t){"use strict";t.r(n);var o=t(1),c=t.n(o),a=t(17),r=t.n(a),u=t(8),l=t(3),s=t(0),i=function(e){var n=e.filter,t=e.eventfilter;return Object(s.jsxs)(s.Fragment,{children:["Search here..",Object(s.jsx)("input",{value:n,onChange:t})]})},d=t(4),f=t.n(d),b="/api/contact",m={getAll:function(){return f.a.get(b).then((function(e){return e.data}))},create:function(e){return f.a.post(b,e).then((function(e){return e.data}))},update:function(e,n){return f.a.put("".concat(b,"/").concat(e),n).then((function(e){return e.data}))},remove:function(e,n){return f.a.delete("".concat(b,"/").concat(e),n).then((function(e){return e.data}))}},j=function(e){var n=e.personToshow,t=e.deleteHandler;return Object(s.jsx)("div",{children:n.map((function(e){return Object(s.jsxs)("li",{className:"persons",children:["".concat(e.name," :"),"    ",e.number,Object(s.jsx)("button",{className:"deleteBtn",type:"submit",onClick:function(){return t(e.id,e.name)},children:"delete"})]},e.id)}))})},h=(t(41),function(){var e=Object(o.useState)([]),n=Object(l.a)(e,2),t=n[0],c=n[1],a=Object(o.useState)(""),r=Object(l.a)(a,2),d=r[0],f=r[1],b=Object(o.useState)(""),h=Object(l.a)(b,2),p=h[0],g=h[1],O=Object(o.useState)(""),v=Object(l.a)(O,2),w=v[0],x=v[1],C=Object(o.useState)(null),y=Object(l.a)(C,2),S=y[0],k=y[1],L=Object(o.useState)(null),T=Object(l.a)(L,2),M=T[0],N=T[1];Object(o.useEffect)((function(){m.getAll().then((function(e){console.log("successfull"),c(e)}))}),[]);var B=function(e){var n=e.errorMsg;return null===n?null:Object(s.jsx)("div",{className:"error",children:n})},D=function(e){var n=e.successMSg;return null===n?null:Object(s.jsx)("div",{className:"message",children:n})},A=w.length>=0?t.filter((function(e){return e.name.toLowerCase().includes(w.toLowerCase())})):t;return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("h1",{children:"Phonebook"}),Object(s.jsx)(B,{errorMsg:S}),Object(s.jsx)(D,{successMSg:M}),Object(s.jsx)(i,{filter:w,eventfilter:function(e){x(e.target.value)}}),Object(s.jsx)(j,{personToshow:A,deleteHandler:function(e,n){if(window.confirm("Delete ".concat(n,"?"))){console.log("Delete the person of id ".concat(e));var o=t.filter((function(n){return n.id!==e}));console.log(o),m.remove(e).then((function(e){c(o),N("".concat(n," deleted")),setTimeout((function(){N(null)}),5e3)})).catch((function(e){k("the note '".concat(o.name,"' was already deleted from server")),setTimeout((function(){k(null)}),5e3)}))}}}),Object(s.jsxs)("form",{onSubmit:function(e){e.preventDefault();var n={name:d,number:p},o=t.find((function(e){return e.name.toLowerCase()===n.name.toLowerCase()})),a=t.some((function(e){return e.name.toLowerCase()===n.name.toLowerCase()})),r=Object(u.a)(Object(u.a)({},o),{},{number:p});(console.log(t.some((function(e){return e.name.toLowerCase()}))),console.log(n.name.toLowerCase()),console.log(a),!0===a)?window.confirm("".concat(n.name," is already added to phonebook ,replace the old number with a new one?"),console.log(o))?m.update(o.id,r).then((function(e){c(t.map((function(n){return n.name===r.name?e:n}))),console.log("bc mc pagal h"),N("".concat(d," is updated successfully")),setTimeout((function(){N(null)}),3e3)})).catch((function(e){k("Information of ".concat(n.name," is already been removed from server!"),console.log("bc mc pagal h")),setTimeout((function(){k(null)}),5e3)})):(f(""),g(""),console.log("bc mc pagal h")):m.create(n).then((function(e){c(t.concat(e)),console.log("bc mc pagal h"),console.log(c),N("".concat(d," is added to the phoonebook")),setTimeout((function(){N(null)}),3e3)})).catch((function(e){k("".concat(d," is already added to phonebook change name and try again!")),setTimeout((function(){k(null)}),5e3)}));f(""),g("")},children:[Object(s.jsx)("input",{placeholder:"new contact name..",value:d,type:"text",onChange:function(e){return f(e.target.value)}}),Object(s.jsx)("br",{}),Object(s.jsx)("input",{placeholder:"new contact number..",value:p,type:"number",onChange:function(e){return g(e.target.value)}}),Object(s.jsx)("button",{className:"addBtn",type:"submit",children:"add"})]})]})});r.a.render(Object(s.jsx)(c.a.StrictMode,{children:Object(s.jsx)(h,{})}),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.2fe100fc.chunk.js.map